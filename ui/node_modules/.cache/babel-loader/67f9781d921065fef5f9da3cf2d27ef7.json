{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { count } from 'console';\nimport VueJwtDecode from 'vue-jwt-decode';\nexport default {\n  components: {},\n\n  data() {\n    return {\n      resp: ''\n    };\n  },\n\n  methods: {\n    handleCredentialResponse(res) {\n      const responsePayload = VueJwtDecode.decode(res.credential);\n      console.log(\"ID: \" + responsePayload.sub);\n      console.log('Full Name: ' + responsePayload.name);\n      console.log('Given Name: ' + responsePayload.given_name);\n      console.log('Family Name: ' + responsePayload.family_name);\n      console.log(\"Image URL: \" + responsePayload.picture);\n      console.log(\"Email: \" + responsePayload.email);\n      axios.get('http://127.0.0.1:8000/users/').then(response => {\n        this.users = response.data;\n        var usermails = [];\n        this.users.forEach(element => {\n          ids.push(element.email);\n        });\n        var registeredEmail = false;\n\n        for (let index = 0; index < ids.length; index++) {\n          if (usermails.includes(responsePayload.email) == true) {\n            registeredEmail = true;\n            break;\n          }\n        }\n\n        console.log(usermails, \"------\", responsePayload.email, \"----\", registeredEmail);\n      });\n\n      if (this.nextId == '') {\n        this.nextId = ids.length;\n      }\n\n      axios.post('http://127.0.0.1:8000/guests/', {\n        id: this.nextId,\n        name: this.name,\n        surname: this.surname,\n        jmbag: this.jmbag,\n        tag: this.selectedTag,\n        bought: '0',\n        entered: '0'\n      }, {\n        auth: {\n          username: 'paxx',\n          password: 'KSETpenisica43'\n        }\n      }).then(() => {\n        location.reload();\n      });\n    },\n\n    logg() {\n      console.log(CredentialResponse);\n    }\n\n  },\n  mounted: function () {\n    let googleScript = document.createElement('script');\n    googleScript.src = 'https://accounts.google.com/gsi/client';\n    document.head.appendChild(googleScript);\n    window.addEventListener('load', () => {\n      console.log(window.google);\n      window.google.accounts.id.initialize({\n        client_id: \"729300808359-9qt44p6ksjivnbfd981pgjbmkh4ifgcj.apps.googleusercontent.com\",\n        callback: this.handleCredentialResponse\n      });\n      window.google.accounts.id.renderButton(document.getElementById(\"signin_button\"), {\n        theme: \"outline\",\n        size: \"large\"\n      } // customization attributes\n      );\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["count","VueJwtDecode","components","data","resp","methods","handleCredentialResponse","res","responsePayload","decode","credential","console","log","sub","name","given_name","family_name","picture","email","axios","get","then","response","users","usermails","forEach","element","ids","push","registeredEmail","index","length","includes","nextId","post","id","surname","jmbag","tag","selectedTag","bought","entered","auth","username","password","location","reload","logg","CredentialResponse","mounted","googleScript","document","createElement","src","head","appendChild","window","addEventListener","google","accounts","initialize","client_id","callback","renderButton","getElementById","theme","size"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer\\ui\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n    <div id=\"login\">\r\n        <div id=\"signin_button\"></div>\r\n        <button @click=\"logg\"></button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { count } from 'console';\r\nimport VueJwtDecode from 'vue-jwt-decode'\r\n    export default {\r\n        components: {\r\n\r\n        },\r\n        data(){\r\n    return{\r\n      resp:'',\r\n    }\r\n    \r\n  },\r\n        methods: {\r\n            handleCredentialResponse(res) {\r\n                const responsePayload = VueJwtDecode.decode(res.credential);\r\n\r\n     console.log(\"ID: \" + responsePayload.sub);\r\n     console.log('Full Name: ' + responsePayload.name);\r\n     console.log('Given Name: ' + responsePayload.given_name);\r\n     console.log('Family Name: ' + responsePayload.family_name);\r\n     console.log(\"Image URL: \" + responsePayload.picture);\r\n     console.log(\"Email: \" + responsePayload.email);\r\n\r\n            axios.get('http://127.0.0.1:8000/users/',)\r\n            .then(response =>{\r\n                    this.users=response.data;\r\n                    var usermails =[];\r\n      \r\n                    this.users.forEach(element => {\r\n                        ids.push(element.email);\r\n                    });\r\n                var registeredEmail=false;\r\n                for (let index = 0; index < ids.length; index++) {\r\n                    if(usermails.includes(responsePayload.email)==true){\r\n                    registeredEmail=true;\r\n                    break;\r\n                    }\r\n                    }\r\n                console.log(usermails,\"------\",responsePayload.email,\"----\",registeredEmail)\r\n            })\r\n\r\n            \r\n            if(this.nextId==''){\r\n                this.nextId=ids.length;\r\n                }\r\n                axios.post('http://127.0.0.1:8000/guests/',\r\n                {id:this.nextId,name:this.name,surname:this.surname,jmbag:this.jmbag,tag:this.selectedTag,bought:'0',entered:'0'},\r\n                {auth:{username:'paxx',password:'KSETpenisica43'}}\r\n                )\r\n                .then(()=>{\r\n                    location.reload();\r\n                })\r\n\r\n\r\n            },\r\n            logg(){\r\n              \r\n              console.log(CredentialResponse)\r\n}\r\n            \r\n        },\r\n        mounted: function () {\r\n            let googleScript = document.createElement('script');\r\n            googleScript.src = 'https://accounts.google.com/gsi/client';\r\n            document.head.appendChild(googleScript);\r\n            \r\n            window.addEventListener('load', () => {\r\n                console.log(window.google);\r\n                window.google.accounts.id.initialize({\r\n                    client_id: \"729300808359-9qt44p6ksjivnbfd981pgjbmkh4ifgcj.apps.googleusercontent.com\",\r\n                    callback: this.handleCredentialResponse,\r\n                    \r\n                });\r\n                window.google.accounts.id.renderButton(\r\n                    document.getElementById(\"signin_button\"),\r\n                    { theme: \"outline\", size: \"large\" }  // customization attributes\r\n                );\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n#signin_button{\r\n    text-align: center;  \r\n    justify-content: center;  \r\nalign-items: center;  \r\n}  \r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}