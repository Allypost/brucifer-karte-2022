{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport Guests from '../views/GuestsView.vue';\nimport Tags from '../views/TagsView.vue';\nimport Users from '../views/UsersView.vue';\nimport Privileges from '../views/PrivilegesView.vue';\nimport Import from '../views/ImportView.vue';\nimport Export from '../views/ExportView.vue';\nimport GuestTag from '../views/GuestTagView.vue';\nimport Login from '../views/LoginView.vue';\nimport Logout from '../views/LogoutView.vue';\nimport Lineup from '../views/LineupView.vue';\nimport Sponsors from '../views/SponsorsView.vue';\nimport store from '@/store/index.js';\nconst routes = [{\n  path: '/bruckarte/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/bruckarte/tags',\n  name: 'tags',\n  component: Tags\n}, {\n  path: '/bruckarte/guests',\n  name: 'guests',\n  component: Guests\n}, {\n  path: '/bruckarte/guest_tag/:slug',\n  name: 'guest_tag',\n  alias: '/guest_tag/guest_tag/:slug',\n  component: GuestTag\n}, {\n  path: '/bruckarte/users',\n  name: 'users',\n  component: Users\n}, {\n  path: '/bruckarte/privileges',\n  name: 'privileges',\n  component: Privileges\n}, {\n  path: '/bruckarte/import',\n  name: 'import',\n  component: Import\n}, {\n  path: '/bruckarte/export',\n  name: 'export',\n  component: Export\n}, {\n  path: '/bruckarte/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/bruckarte/logout',\n  name: 'logout',\n  component: Logout\n}, {\n  path: '/bruckarte/lineup',\n  name: 'lineup',\n  component: Lineup\n}, {\n  path: '/bruckarte/sponsors',\n  name: 'sponsors',\n  component: Sponsors\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  //check for error where path /guest_tag/guest_tag/:slug occurs\n  var path = String(to.path).split(\"/\");\n\n  if (path[2] == \"guest_tag\" && path[3] == \"guest_tag\") {\n    next({\n      path: '/bruckarte/guest_tag/' + path[4]\n    });\n  } //provjera auth i privilegija\n\n\n  var allowedRoutesForprivilege2 = [\"home\", \"login\", \"logout\", \"guest_tag\", \"\", undefined, \"bruckarte\"];\n  var allowedRoutesForprivilege3 = [\"home\", \"login\", \"logout\", \"guests\", \"\", undefined];\n  var allowedRoutesForprivilege4 = [\"home\", \"login\", \"logout\", \"guest_tag\", \"guests\", \"\", undefined];\n  console.log(\"provjera auth se kao dogodila\");\n  console.log(\"---ime  \", to.name);\n\n  if (store.state.id == '' && to.name != 'login') {\n    next({\n      path: '/bruckarte/login'\n    });\n  } else if (store.state.privilege == 0 && to.name != 'login') {\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({\n      path: '/bruckarte/home'\n    });\n  } else if (store.state.privilege == 2 && !allowedRoutesForprivilege2.includes(to.name)) {\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({\n      path: '/bruckarte/home'\n    });\n  } else if (store.state.privilege == 3 && !allowedRoutesForprivilege3.includes(to.name)) {\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({\n      path: '/bruckarte/home'\n    });\n  } else if (store.state.privilege == 4 && !allowedRoutesForprivilege4.includes(to.name)) {\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({\n      path: '/bruckarte/home'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","Guests","Tags","Users","Privileges","Import","Export","GuestTag","Login","Logout","Lineup","Sponsors","store","routes","path","name","component","alias","router","history","process","env","BASE_URL","beforeEach","to","from","next","String","split","allowedRoutesForprivilege2","undefined","allowedRoutesForprivilege3","allowedRoutesForprivilege4","console","log","state","id","privilege","window","alert","includes"],"sources":["C:/brucifer-karte/brucifer-karte/bfk2/brucifer-karte/ui/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport Guests from '../views/GuestsView.vue'\nimport Tags from '../views/TagsView.vue'\nimport Users from '../views/UsersView.vue'\nimport Privileges from '../views/PrivilegesView.vue'\nimport Import from '../views/ImportView.vue'\nimport Export from '../views/ExportView.vue'\nimport GuestTag from '../views/GuestTagView.vue'\nimport Login from '../views/LoginView.vue'\nimport Logout from '../views/LogoutView.vue'\nimport Lineup from '../views/LineupView.vue'\nimport Sponsors from '../views/SponsorsView.vue'\nimport store from '@/store/index.js';\n\n\n\nconst routes = [\n  {\n    path: '/bruckarte/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/bruckarte/tags',\n    name: 'tags',\n    component : Tags,\n  },\n  {\n    path: '/bruckarte/guests',\n    name: 'guests',\n    component : Guests\n  },\n  {\n    path: '/bruckarte/guest_tag/:slug',\n    name: 'guest_tag',\n    alias: '/guest_tag/guest_tag/:slug',\n    component : GuestTag\n  },\n  {\n    path: '/bruckarte/users',\n    name: 'users',\n    component : Users\n  },\n  {\n    path: '/bruckarte/privileges',\n    name: 'privileges',\n    component : Privileges\n  },\n  {\n    path: '/bruckarte/import',\n    name: 'import',\n    component : Import\n  }\n  ,\n  {\n    path: '/bruckarte/export',\n    name: 'export',\n    component : Export\n  },\n  {\n    path: '/bruckarte/login',\n    name: 'login',\n    component : Login\n  },\n  {\n    path: '/bruckarte/logout',\n    name: 'logout',\n    component : Logout\n  },\n  {\n    path: '/bruckarte/lineup',\n    name: 'lineup',\n    component : Lineup\n  },\n  {\n    path: '/bruckarte/sponsors',\n    name: 'sponsors',\n    component : Sponsors\n  },\n  \n  \n]\n\n\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  //check for error where path /guest_tag/guest_tag/:slug occurs\n  var path=String(to.path).split(\"/\")\n  if(path[2]==\"guest_tag\" && path[3]==\"guest_tag\"){\n    next({path: '/bruckarte/guest_tag/'+path[4]});\n  }\n\n  //provjera auth i privilegija\n  var allowedRoutesForprivilege2= [\"home\",\"login\",\"logout\",\"guest_tag\",\"\",undefined,\"bruckarte\"]\n  var allowedRoutesForprivilege3= [\"home\",\"login\",\"logout\",\"guests\",\"\",undefined]\n  var allowedRoutesForprivilege4= [\"home\",\"login\",\"logout\",\"guest_tag\",\"guests\",\"\",undefined]\n\n  console.log(\"provjera auth se kao dogodila\")\n  console.log(\"---ime  \",to.name)\n  if(store.state.id=='' && to.name!='login'){\n    next({path: '/bruckarte/login'});\n  }else if((store.state.privilege==0 && to.name!='login')){\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({path: '/bruckarte/home'});\n  }else if((store.state.privilege==2 && !allowedRoutesForprivilege2.includes(to.name))){\n      window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n      next({path: '/bruckarte/home'});\n  }else if((store.state.privilege==3 && !allowedRoutesForprivilege3.includes(to.name))){\n      window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n      next({path: '/bruckarte/home'});\n  }else if((store.state.privilege==4 && !allowedRoutesForprivilege4.includes(to.name))){\n    window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n    next({path: '/bruckarte/home'});\n  }else{\n    next();\n  }\n})\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}