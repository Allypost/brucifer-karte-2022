{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"guests-add\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Dodaj na popis: \");\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"file\",\n  accept: \"image/*\",\n  id: \"file-input\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-primary\",\n  id: \"gumb2\"\n}, \"Add\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_h = _resolveComponent(\"h\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = $event => $options.postGuest($event))\n  }, [_createVNode(_component_h, null, {\n    default: _withCtx(() => [_hoisted_2]),\n    _: 1\n    /* STABLE */\n\n  }), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"inputname\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    placeholder: \"Name\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.name]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"inputurl\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.url = $event),\n    placeholder: \"Surname\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.url]]), _hoisted_3, _hoisted_4], 32\n  /* HYDRATE_EVENTS */\n  )]);\n}","map":{"version":3,"mappings":";;EACOA,EAAE,EAAC;;;iDAED;;gCAGHC,oBAAoD,OAApD,EAAoD;EAA7CC,IAAI,EAAC,MAAwC;EAAjCC,MAAM,EAAC,SAA0B;EAAhBH,EAAE,EAAC;AAAa,CAApD;;AAAA;;gCACAC,oBAAuD,QAAvD,EAAuD;EAA/CG,KAAK,EAAC,iBAAyC;EAAvBJ,EAAE,EAAC;AAAoB,CAAvD,EAA2C,KAA3C,EAA8C;AAAA;AAA9C;;;;;uBANJK,oBAQM,KARN,cAQM,CAPJJ,oBAMO,MANP,EAMO;IANAK,QAAM,sCAAEC,mBAAUC,MAAV,CAAF;EAMN,CANP,GACEC,aAAuBC,YAAvB,EAAuB,IAAvB,EAAuB;sBAApB,MAAgB,aAAI;;;;EAAA,CAAvB,mBACAT,oBAAoE,OAApE,EAAoE;IAA7DC,IAAI,EAAC,MAAwD;IAAjDF,EAAE,EAAC,WAA8C;+DAAzBW,aAAIH,OAAqB;IAAnBI,WAAW,EAAC;EAAO,CAApE;;EAAA,kBAA2CD,+BAC3CV,oBAAqE,OAArE,EAAqE;IAA9DC,IAAI,EAAC,MAAyD;IAAlDF,EAAE,EAAC,UAA+C;+DAA3BW,YAAGH,OAAwB;IAAtBI,WAAW,EAAC;EAAU,CAArE;;EAAA,kBAA0CD,cAC1CE,YACAC,WALF;;EAAA,CAOI,CARN","names":["id","_createElementVNode","type","accept","class","_createElementBlock","onSubmit","$options","$event","_createVNode","_component_h","$data","placeholder","_hoisted_3","_hoisted_4"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer-karte\\ui\\src\\components\\Sponsors\\SponsorsAdd.vue"],"sourcesContent":["<template>\r\n  <div id=\"guests-add\">\r\n    <form @submit=\"postGuest($event)\">\r\n      <h>Dodaj na popis: </h>\r\n      <input type=\"text\" id=\"inputname\" v-model=\"name\" placeholder=\"Name\">\r\n      <input type=\"text\" id=\"inputurl\" v-model=\"url\" placeholder=\"Surname\">\r\n      <input type=\"file\" accept=\"image/*\" id=\"file-input\">\r\n      <button class=\"btn btn-primary\" id=\"gumb2\">Add</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nimport Dropdown from '../DropdownRoute.vue';\r\nexport default {\r\n  name: 'SponsorsAdd',\r\n  components: {\r\n    Dropdown\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  data() {\r\n    return {\r\n      items: ['Brucoši', 'KSET', 'VIP'],\r\n      guests: [],\r\n      id: '',\r\n      name: '',\r\n      surname: '',\r\n      jmbag: '',\r\n      phone: '',\r\n      tag: '',\r\n      bought: '',\r\n      entered: '',\r\n      url: '',\r\n      img:'',\r\n      len: '',\r\n      services: ['Brucoši', 'KSET', 'VIP'],\r\n      selectedTag: '',\r\n\r\n    }\r\n  },\r\n\r\n  created() {\r\n    axios.get('http://127.0.0.1:8000/guests/',)\r\n      .then(response => {\r\n        this.guests = response.data;\r\n        this.len = this.guests.length;\r\n      })\r\n  },\r\n  methods: {\r\n    postGuest(event) {\r\n      console.log(event.target.files[0])\r\n      \r\n      var ids = [];\r\n\r\n      this.guests.forEach(element => {\r\n        ids.push(element.id);\r\n      });\r\n      for (let index = 0; index < ids.length; index++) {\r\n        if (ids.includes(String(index)) == false) {\r\n          this.nextId = index;\r\n          break;\r\n        }\r\n      }\r\n      if (this.nextId == '') {\r\n        this.nextId = ids.length;\r\n      }\r\n      let data = new FormData();\r\n      data.append('name', this.name);\r\n      data.append('name', this.url);\r\n      data.append('file', event.target.files[0]); \r\n      axios.post('http://127.0.0.1:8000/sponsors/',data,\r\n        { auth: { username: 'paxx', password: 'KSETpenisica43' } }\r\n      )\r\n        .then(() => {\r\n          location.reload();\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n#inputname {\r\n  width: 220px;\r\n  margin: 2px;\r\n}\r\n\r\n#inputsurname {\r\n  width: 220px;\r\n  margin: 2px;\r\n}\r\n\r\n\r\n#gumb2 {\r\n  margin: 2px;\r\n  width: 220px;\r\n  height: 30px;\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}