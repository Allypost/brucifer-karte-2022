{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b81616b8\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"hello\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"get authCode\");\n\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = [\"disabled\"];\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-edit\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ebutton = _resolveComponent(\"ebutton\");\n\n  const _component_el_row = _resolveComponent(\"el-row\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, null, {\n    default: _withCtx(() => [_createVNode(_component_ebutton, {\n      type: \"primary\",\n      icon: \"fas fa-edit\",\n      onClick: $options.handleClickLogin,\n      disabled: !$data.isInit\n    }, {\n      default: _withCtx(() => [_hoisted_2]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\", \"disabled\"]), !$data.isSignIn ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      type: \"primary\",\n      icon: \"fas fa-edit\",\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.handleClickSignIn && $options.handleClickSignIn(...args)),\n      disabled: !$data.isInit\n    }, \"sign in\", 8\n    /* PROPS */\n    , _hoisted_3)) : _createCommentVNode(\"v-if\", true), $data.isSignIn ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      type: \"primary\",\n      icon: \"fas fa-edit\",\n      onClick: _cache[1] || (_cache[1] = (...args) => $options.handleClickSignOut && $options.handleClickSignOut(...args)),\n      disabled: !$data.isInit\n    }, \"sign out\", 8\n    /* PROPS */\n    , _hoisted_4)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      type: \"primary\",\n      icon: \"fas fa-edit\",\n      onClick: _cache[2] || (_cache[2] = (...args) => $options.handleClickDisconnect && $options.handleClickDisconnect(...args)),\n      disabled: !$data.isInit\n    }, \"disconnect\", 8\n    /* PROPS */\n    , _hoisted_5), _hoisted_6, _createElementVNode(\"p\", null, \"isInit: \" + _toDisplayString($data.isInit), 1\n    /* TEXT */\n    ), _createElementVNode(\"p\", null, \"isSignIn: \" + _toDisplayString($data.isSignIn), 1\n    /* TEXT */\n    ), _createElementVNode(\"button\", {\n      type: \"primary\",\n      icon: \"fas fa-edit\",\n      onClick: _cache[3] || (_cache[3] = (...args) => $options.handleClickUpdateScope && $options.handleClickUpdateScope(...args)),\n      disabled: !$data.isInit\n    }, \"update scope\", 8\n    /* PROPS */\n    , _hoisted_7)]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":";;;;;EACOA,KAAK,EAAC;;;iDAON;;;;;;gEAqBDC,oBAA2B,GAA3B,EAA2B;EAAxBD,KAAK,EAAC;AAAkB,CAA3B,EAAsB,IAAtB,EAAsB;AAAA;AAAtB;;;;;;;;uBA5BJE,oBAuCM,KAvCN,cAuCM,CAtCJC,aAqCSC,iBArCT,EAqCS,IArCT,EAqCS;sBApCP,MAKuB,CALvBD,aAKuBE,kBALvB,EAKuB;MAJrBC,IAAI,EAAC,SAIgB;MAHrBC,IAAI,EAAC,aAGgB;MAFpBC,OAAK,EAAEC,yBAEa;MADpBC,QAAQ,GAAGC;IACS,CALvB;wBAKC,MAAY;;;;KALb;;IAAA,0BAKuB,GAKdA,gCAJTT,oBAMiB,QANjB,EAMiB;YAAA;MALfI,IAAI,EAAC,SAKU;MAJfC,IAAI,EAAC,aAIU;MAHdC,OAAK,yCAAEC,iEAAF,CAGS;MADdC,QAAQ,GAAGC;IACG,CANjB,EAMC,SAND,EAMQ;IAAA;IANR,EAMQC,UANR,sCADuB,EAYfD,gCAJRT,oBAMkB,QANlB,EAMkB;YAAA;MALhBI,IAAI,EAAC,SAKW;MAJhBC,IAAI,EAAC,aAIW;MAHfC,OAAK,yCAAEC,mEAAF,CAGU;MADfC,QAAQ,GAAGC;IACI,CANlB,EAMC,UAND,EAMS;IAAA;IANT,EAMSE,UANT,sCARuB,EAevBZ,oBAKoB,QALpB,EAKoB;MAJlBK,IAAI,EAAC,SAIa;MAHlBC,IAAI,EAAC,aAGa;MAFjBC,OAAK,yCAAEC,yEAAF,CAEY;MADjBC,QAAQ,GAAGC;IACM,CALpB,EAKC,YALD,EAKW;IAAA;IALX,EAKWG,UALX,CAfuB,EAqBvBC,UArBuB,EAsBvBd,oBAAyB,GAAzB,EAAyB,IAAzB,EAAG,aAAQe,iBAAEL,YAAF,CAAX,EAAmB;IAAA;IAAnB,CAtBuB,EAuBvBV,oBAA6B,GAA7B,EAA6B,IAA7B,EAAG,eAAUe,iBAAEL,cAAF,CAAb,EAAuB;IAAA;IAAvB,CAvBuB,EAyBvBV,oBAKsB,QALtB,EAKsB;MAJpBK,IAAI,EAAC,SAIe;MAHpBC,IAAI,EAAC,aAGe;MAFnBC,OAAK,yCAAEC,2EAAF,CAEc;MADnBC,QAAQ,GAAGC;IACQ,CALtB,EAKC,cALD,EAKa;IAAA;IALb,EAKaM,UALb,CAzBuB,EA+BhB;;;;EAAA,CArCT,CAsCI,CAvCN","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_el_row","_component_ebutton","type","icon","onClick","$options","disabled","$data","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer\\ui\\src\\views\\ImportView.vue"],"sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <el-row>\r\n      <ebutton\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickLogin\"\r\n        :disabled=\"!isInit\"\r\n      >get authCode</ebutton>\r\n      <button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickSignIn\"\r\n        v-if=\"!isSignIn\"\r\n        :disabled=\"!isInit\"\r\n      >sign in</button>\r\n      <button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickSignOut\"\r\n        v-if=\"isSignIn\"\r\n        :disabled=\"!isInit\"\r\n      >sign out</button>\r\n      <button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickDisconnect\"\r\n        :disabled=\"!isInit\"\r\n      >disconnect</button>\r\n      <i class=\"fas fa-edit\"></i>\r\n      <p>isInit: {{isInit}}</p>\r\n      <p>isSignIn: {{isSignIn}}</p>\r\n\r\n      <button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickUpdateScope\"\r\n        :disabled=\"!isInit\"\r\n      >update scope</button>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n      isInit: false,\r\n      isSignIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async handleClickUpdateScope() {\r\n      const option = new window.gapi.auth2.SigninOptionsBuilder();\r\n      option.setScope(\"email https://www.googleapis.com/auth/drive.file\");\r\n      const googleUser = this.$gAuth.GoogleAuth.currentUser.get();\r\n      try {\r\n        await googleUser.grant(option);\r\n        console.log(\"success\");\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    handleClickLogin() {\r\n      this.$gAuth\r\n        .getAuthCode()\r\n        .then((authCode) => {\r\n          //on success\r\n          console.log(\"authCode\", authCode);\r\n        })\r\n        .catch((error) => {\r\n          //on fail do something\r\n        });\r\n    },\r\n\r\n    async handleClickSignIn() {\r\n      try {\r\n        const googleUser = await this.$gAuth.signIn();\r\n        if (!googleUser) {\r\n          return null;\r\n        }\r\n        console.log(\"googleUser\", googleUser);\r\n        console.log(\"getId\", googleUser.getId());\r\n        console.log(\"getBasicProfile\", googleUser.getBasicProfile());\r\n        console.log(\"getAuthResponse\", googleUser.getAuthResponse());\r\n        console.log(\r\n          \"getAuthResponse\",\r\n          this.$gAuth.GoogleAuth.currentUser.get().getAuthResponse()\r\n        );\r\n        this.isSignIn = this.$gAuth.isAuthorized;\r\n      } catch (error) {\r\n        //on fail do something\r\n        console.error(error);\r\n        return null;\r\n      }\r\n    },\r\n\r\n    async handleClickSignOut() {\r\n      try {\r\n        await this.$gAuth.signOut();\r\n        this.isSignIn = this.$gAuth.isAuthorized;\r\n        console.log(\"isSignIn\", this.$gAuth.isAuthorized);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    handleClickDisconnect() {\r\n      window.location.href = `https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.href}`;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    let that = this;\r\n    let checkGauthLoad = setInterval(function () {\r\n      that.isInit = that.$gAuth.isInit;\r\n      that.isSignIn = that.$gAuth.isAuthorized;\r\n      if (that.isInit) clearInterval(checkGauthLoad);\r\n    }, 1000);\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}