{"ast":null,"code":"/* eslint-disable */\nexport default {\n  name: \"HelloWorld\",\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      isInit: false,\n      isSignIn: false\n    };\n  },\n\n  methods: {\n    async handleClickUpdateScope() {\n      const option = new window.gapi.auth2.SigninOptionsBuilder();\n      option.setScope(\"email https://www.googleapis.com/auth/drive.file\");\n      const googleUser = this.$gAuth.GoogleAuth.currentUser.get();\n\n      try {\n        await googleUser.grant(option);\n        console.log(\"success\");\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    handleClickLogin() {\n      this.$gAuth.getAuthCode().then(authCode => {\n        //on success\n        console.log(\"authCode\", authCode);\n      }).catch(error => {//on fail do something\n      });\n    },\n\n    async handleClickSignIn() {\n      try {\n        const googleUser = await this.$gAuth.signIn();\n\n        if (!googleUser) {\n          return null;\n        }\n\n        console.log(\"googleUser\", googleUser);\n        console.log(\"getId\", googleUser.getId());\n        console.log(\"getBasicProfile\", googleUser.getBasicProfile());\n        console.log(\"getAuthResponse\", googleUser.getAuthResponse());\n        console.log(\"getAuthResponse\", this.$gAuth.GoogleAuth.currentUser.get().getAuthResponse());\n        this.isSignIn = this.$gAuth.isAuthorized;\n      } catch (error) {\n        //on fail do something\n        console.error(error);\n        return null;\n      }\n    },\n\n    async handleClickSignOut() {\n      try {\n        await this.$gAuth.signOut();\n        this.isSignIn = this.$gAuth.isAuthorized;\n        console.log(\"isSignIn\", this.$gAuth.isAuthorized);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    handleClickDisconnect() {\n      window.location.href = `https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.href}`;\n    }\n\n  },\n\n  created() {\n    let that = this;\n    let checkGauthLoad = setInterval(function () {\n      that.isInit = that.$gAuth.isInit;\n      that.isSignIn = that.$gAuth.isAuthorized;\n      if (that.isInit) clearInterval(checkGauthLoad);\n    }, 1000);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["name","props","msg","String","data","isInit","isSignIn","methods","handleClickUpdateScope","option","window","gapi","auth2","SigninOptionsBuilder","setScope","googleUser","$gAuth","GoogleAuth","currentUser","get","grant","console","log","error","handleClickLogin","getAuthCode","then","authCode","catch","handleClickSignIn","signIn","getId","getBasicProfile","getAuthResponse","isAuthorized","handleClickSignOut","signOut","handleClickDisconnect","location","href","created","that","checkGauthLoad","setInterval","clearInterval"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer\\ui\\src\\views\\ImportView.vue"],"sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <el-row>\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickLogin\"\r\n        :disabled=\"!isInit\"\r\n      >get authCode</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickSignIn\"\r\n        v-if=\"!isSignIn\"\r\n        :disabled=\"!isInit\"\r\n      >sign in</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickSignOut\"\r\n        v-if=\"isSignIn\"\r\n        :disabled=\"!isInit\"\r\n      >sign out</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickDisconnect\"\r\n        :disabled=\"!isInit\"\r\n      >disconnect</el-button>\r\n      <i class=\"fas fa-edit\"></i>\r\n      <p>isInit: {{isInit}}</p>\r\n      <p>isSignIn: {{isSignIn}}</p>\r\n\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"fas fa-edit\"\r\n        @click=\"handleClickUpdateScope\"\r\n        :disabled=\"!isInit\"\r\n      >update scope</el-button>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n      isInit: false,\r\n      isSignIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async handleClickUpdateScope() {\r\n      const option = new window.gapi.auth2.SigninOptionsBuilder();\r\n      option.setScope(\"email https://www.googleapis.com/auth/drive.file\");\r\n      const googleUser = this.$gAuth.GoogleAuth.currentUser.get();\r\n      try {\r\n        await googleUser.grant(option);\r\n        console.log(\"success\");\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    handleClickLogin() {\r\n      this.$gAuth\r\n        .getAuthCode()\r\n        .then((authCode) => {\r\n          //on success\r\n          console.log(\"authCode\", authCode);\r\n        })\r\n        .catch((error) => {\r\n          //on fail do something\r\n        });\r\n    },\r\n\r\n    async handleClickSignIn() {\r\n      try {\r\n        const googleUser = await this.$gAuth.signIn();\r\n        if (!googleUser) {\r\n          return null;\r\n        }\r\n        console.log(\"googleUser\", googleUser);\r\n        console.log(\"getId\", googleUser.getId());\r\n        console.log(\"getBasicProfile\", googleUser.getBasicProfile());\r\n        console.log(\"getAuthResponse\", googleUser.getAuthResponse());\r\n        console.log(\r\n          \"getAuthResponse\",\r\n          this.$gAuth.GoogleAuth.currentUser.get().getAuthResponse()\r\n        );\r\n        this.isSignIn = this.$gAuth.isAuthorized;\r\n      } catch (error) {\r\n        //on fail do something\r\n        console.error(error);\r\n        return null;\r\n      }\r\n    },\r\n\r\n    async handleClickSignOut() {\r\n      try {\r\n        await this.$gAuth.signOut();\r\n        this.isSignIn = this.$gAuth.isAuthorized;\r\n        console.log(\"isSignIn\", this.$gAuth.isAuthorized);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    handleClickDisconnect() {\r\n      window.location.href = `https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.href}`;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    let that = this;\r\n    let checkGauthLoad = setInterval(function () {\r\n      that.isInit = that.$gAuth.isInit;\r\n      that.isSignIn = that.$gAuth.isAuthorized;\r\n      if (that.isInit) clearInterval(checkGauthLoad);\r\n    }, 1000);\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}