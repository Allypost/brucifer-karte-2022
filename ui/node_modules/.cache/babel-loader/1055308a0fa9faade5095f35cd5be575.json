{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"guests-add\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"a\", null, \"Dodaj na popis: \", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"inputname\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    placeholder: \"Name\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.name]]), _createElementVNode(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    ref: \"file\",\n    id: \"file-input\",\n    onChange: _cache[1] || (_cache[1] = function () {\n      return $options.selectImage && $options.selectImage(...arguments);\n    })\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $options.postGuest && $options.postGuest(...arguments);\n    }),\n    class: \"btn btn-primary\",\n    id: \"gumb2\"\n  }, \"Add\")]);\n}","map":{"version":3,"mappings":";;EACOA,EAAE,EAAC;;;gCACJC,oBAAuB,GAAvB,EAAuB,IAAvB,EAAG,kBAAH,EAAmB;AAAA;AAAnB;;;uBADJC,oBAKM,KALN,cAKM,CAJFC,UAIE,kBAHFF,oBAAoE,OAApE,EAAoE;IAA7DG,IAAI,EAAC,MAAwD;IAAjDJ,EAAE,EAAC,WAA8C;+DAAzBK,aAAIC,OAAqB;IAAnBC,WAAW,EAAC;EAAO,CAApE;;EAAA,kBAA2CF,aAGzC,EAFFJ,oBAAqF,OAArF,EAAqF;IAA9EG,IAAI,EAAC,MAAyE;IAAlEI,MAAM,EAAC,SAA2D;IAAjDC,GAAG,EAAC,MAA6C;IAAtCT,EAAE,EAAC,YAAmC;IAArBU,QAAM;MAAA,OAAEC,0DAAF;IAAA;EAAe,CAArF;;EAAA,CAEE,EADFV,oBAA0E,QAA1E,EAA0E;IAAjEW,OAAK;MAAA,OAAED,sDAAF;IAAA,EAA4D;IAA/CE,KAAK,EAAC,iBAAyC;IAAvBb,EAAE,EAAC;EAAoB,CAA1E,EAA8D,KAA9D,CACE,CALN","names":["id","_createElementVNode","_createElementBlock","_hoisted_2","type","$data","$event","placeholder","accept","ref","onChange","$options","onClick","class"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer-karte\\ui\\src\\components\\Lineup\\LineupAdd.vue"],"sourcesContent":["<template>\r\n  <div id=\"guests-add\">\r\n      <a>Dodaj na popis: </a>\r\n      <input type=\"text\" id=\"inputname\" v-model=\"name\" placeholder=\"Name\">\r\n      <input type=\"file\" accept=\"image/*\" ref=\"file\" id=\"file-input\" @change=\"selectImage\">\r\n      <button @click=\"postGuest\" class=\"btn btn-primary\" id=\"gumb2\">Add</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nimport Dropdown from '../DropdownRoute.vue';\r\nexport default {\r\n  name: 'SponsorsAdd',\r\n  components: {\r\n    Dropdown\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  data() {\r\n    return {\r\n      items: ['Brucoši', 'KSET', 'VIP'],\r\n      sponsors: [],\r\n      id: '',\r\n      name: '',\r\n      surname: '',\r\n      jmbag: '',\r\n      phone: '',\r\n      tag: '',\r\n      bought: '',\r\n      entered: '',\r\n      url: '',\r\n      img:'',\r\n      nextId: '',\r\n      services: ['Brucoši', 'KSET', 'VIP'],\r\n      selectedTag: '',\r\n      currentImage: undefined,\r\n      previewImage: undefined,\r\n      progress: 0,\r\n      message: \"\",\r\n      imageInfos: [],\r\n\r\n    }\r\n  },\r\n\r\n  created() {\r\n    axios.get('http://127.0.0.1:8000/lineup/',)\r\n      .then(response => {\r\n        this.sponsors = response.data;\r\n      })\r\n  },\r\n  methods: {\r\n    selectImage(e) {\r\n      //this.currentImage = this.$refs.file.files.item(0);\r\n      this.currentImage=e.target.files[0]\r\n      console.log(this.currentImage)\r\n      this.previewImage = URL.createObjectURL(this.currentImage);\r\n      this.progress = 0;\r\n      this.message = \"\";\r\n      console.log(this.currentImage)\r\n    },\r\n    postGuest() {\r\n\r\n      \r\n      var ids = [];\r\n\r\n      this.sponsors.forEach(element => {\r\n        ids.push(element.id);\r\n      });\r\n      for (let index = 0; index < ids.length; index++) {\r\n        if (ids.includes(String(index)) == false) {\r\n          this.nextId = index;\r\n          break;\r\n        }\r\n      }\r\n      if (this.nextId == '') {\r\n        this.nextId = ids.length;\r\n      }\r\n      const formData = new FormData();\r\n      console.log(this.name)\r\n      console.log(this.url)\r\n      console.log(formData)\r\n      formData.append('name', this.name);\r\n      formData.append('url', this.url);\r\n      \r\n      console.log(this.currentImage)\r\n     \r\n    console.log(this.nextId)\r\n      axios.post('http://127.0.0.1:8000/lineup/',\r\n        { id: this.nextId, name: this.name, url: this.url, image:this.currentImage},\r\n        { auth: { username: 'paxx', password: 'KSETpenisica43' } }\r\n      )\r\n        .then(() => {\r\n          \r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n#inputname {\r\n  width: 220px;\r\n  margin: 2px;\r\n}\r\n\r\n#inputsurname {\r\n  width: 220px;\r\n  margin: 2px;\r\n}\r\n\r\n\r\n#gumb2 {\r\n  padding: 0px;\r\n  margin: 2px;\r\n  width: 220px;\r\n  height: 30px;\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}