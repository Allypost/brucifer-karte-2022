{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport Guests from '../views/GuestsView.vue';\nimport Tags from '../views/TagsView.vue';\nimport Users from '../views/UsersView.vue';\nimport Privileges from '../views/PrivilegesView.vue';\nimport Import from '../views/ImportView.vue';\nimport Export from '../views/ExportView.vue';\nimport GuestTag from '../views/GuestTagView.vue';\nimport Login from '../views/LoginView.vue';\nimport Logout from '../views/LogoutView.vue';\nimport Lineup from '../views/LineupView.vue';\nimport Sponsors from '../views/SponsorsView.vue';\nimport Bwlineup from '../views/BruciWebViews/BWlineupView.vue';\nimport BWsponsors from '../views/BruciWebViews/BWsponsorsView.vue';\nimport Kontakt from '../views/BruciWebViews/KontaktView.vue';\nimport Ulaznice from '../views/BruciWebViews/UlazniceView.vue';\nimport Pravila from '../views/BruciWebViews/PravilaView.vue';\nimport Naslovnica from '../views/BruciWebViews/NaslovnicaView.vue';\nimport store from '@/store/index.js';\nconst routes = [{\n  path: '/bruckarte/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/bruckarte/tags',\n  name: 'tags',\n  component: Tags\n}, {\n  path: '/bruckarte/guests',\n  name: 'guests',\n  component: Guests\n}, {\n  path: '/bruckarte/guest_tag/:slug',\n  name: 'guest_tag',\n  alias: '/guest_tag/guest_tag/:slug',\n  component: GuestTag\n}, {\n  path: '/bruckarte/users',\n  name: 'users',\n  component: Users\n}, {\n  path: '/bruckarte/privileges',\n  name: 'privileges',\n  component: Privileges\n}, {\n  path: '/bruckarte/import',\n  name: 'import',\n  component: Import\n}, {\n  path: '/bruckarte/export',\n  name: 'export',\n  component: Export\n}, {\n  path: '/bruckarte/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/bruckarte/logout',\n  name: 'logout',\n  component: Logout\n}, {\n  path: '/bruckarte/lineup',\n  name: 'lineup',\n  component: Lineup\n}, {\n  path: '/bruckarte/sponsors',\n  name: 'sponsors',\n  component: Sponsors\n}, {\n  path: '/sponsors',\n  name: 'bwsponsors',\n  component: BWsponsors\n}, {\n  path: '/lineup',\n  name: 'bwlineup',\n  component: Bwlineup\n}, {\n  path: '/kontakt',\n  name: 'kontakt',\n  component: Kontakt\n}, {\n  path: '/ulaznice',\n  name: 'ulaznice',\n  component: Ulaznice\n}, {\n  path: '/pravila-ponasanja',\n  name: 'pravila-ponasanja',\n  component: Pravila\n}, {\n  path: '/',\n  name: 'naslovnica',\n  component: Naslovnica\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  //provjera auth i privilegija\n  var allowedRoutesForprivilege2 = [\"home\", \"login\", \"logout\", \"guest_tag\", \"\", undefined, \"bruckarte\"];\n  var allowedRoutesForprivilege3 = [\"home\", \"login\", \"logout\", \"guests\", \"\", undefined];\n  var allowedRoutesForprivilege4 = [\"home\", \"login\", \"logout\", \"guest_tag\", \"guests\", \"\", undefined];\n\n  if (Date.now() / 1000 > store.state.tokenExp && to.name != 'logout') {\n    console.log(\"aj ća\");\n    next({\n      path: '/bruckarte/logout'\n    });\n  } else {\n    if (String(to.path).split(\"/\")[1] == \"bruckarte\") {\n      if (store.state.id == '' && to.name != 'login') {\n        next({\n          path: '/bruckarte/login'\n        });\n      } else if (store.state.privilege == 0 && to.name != 'login') {\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n        next({\n          path: '/bruckarte/home'\n        });\n      } else if (store.state.privilege == 2 && !allowedRoutesForprivilege2.includes(to.name)) {\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n        next({\n          path: '/bruckarte/home'\n        });\n      } else if (store.state.privilege == 3 && !allowedRoutesForprivilege3.includes(to.name)) {\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n        next({\n          path: '/bruckarte/home'\n        });\n      } else if (store.state.privilege == 4 && !allowedRoutesForprivilege4.includes(to.name)) {\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\n        next({\n          path: '/bruckarte/home'\n        });\n      } else {\n        next();\n      }\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","Guests","Tags","Users","Privileges","Import","Export","GuestTag","Login","Logout","Lineup","Sponsors","Bwlineup","BWsponsors","Kontakt","Ulaznice","Pravila","Naslovnica","store","routes","path","name","component","alias","router","history","process","env","BASE_URL","beforeEach","to","from","next","allowedRoutesForprivilege2","undefined","allowedRoutesForprivilege3","allowedRoutesForprivilege4","Date","now","state","tokenExp","console","log","String","split","id","privilege","window","alert","includes"],"sources":["C:/brucifer-karte/brucifer-karte/bfk2/brucifer-karte/ui/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\nimport Guests from '../views/GuestsView.vue'\r\nimport Tags from '../views/TagsView.vue'\r\nimport Users from '../views/UsersView.vue'\r\nimport Privileges from '../views/PrivilegesView.vue'\r\nimport Import from '../views/ImportView.vue'\r\nimport Export from '../views/ExportView.vue'\r\nimport GuestTag from '../views/GuestTagView.vue'\r\nimport Login from '../views/LoginView.vue'\r\nimport Logout from '../views/LogoutView.vue'\r\nimport Lineup from '../views/LineupView.vue'\r\nimport Sponsors from '../views/SponsorsView.vue'\r\nimport Bwlineup from '../views/BruciWebViews/BWlineupView.vue'\r\nimport BWsponsors from '../views/BruciWebViews/BWsponsorsView.vue'\r\nimport Kontakt from '../views/BruciWebViews/KontaktView.vue'\r\nimport Ulaznice from '../views/BruciWebViews/UlazniceView.vue'\r\nimport Pravila from '../views/BruciWebViews/PravilaView.vue'\r\nimport Naslovnica from '../views/BruciWebViews/NaslovnicaView.vue'\r\n\r\nimport store from '@/store/index.js';\r\n\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: '/bruckarte/',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/bruckarte/tags',\r\n    name: 'tags',\r\n    component : Tags,\r\n  },\r\n  {\r\n    path: '/bruckarte/guests',\r\n    name: 'guests',\r\n    component : Guests\r\n  },\r\n  {\r\n    path: '/bruckarte/guest_tag/:slug',\r\n    name: 'guest_tag',\r\n    alias: '/guest_tag/guest_tag/:slug',\r\n    component : GuestTag\r\n  },\r\n  {\r\n    path: '/bruckarte/users',\r\n    name: 'users',\r\n    component : Users\r\n  },\r\n  {\r\n    path: '/bruckarte/privileges',\r\n    name: 'privileges',\r\n    component : Privileges\r\n  },\r\n  {\r\n    path: '/bruckarte/import',\r\n    name: 'import',\r\n    component : Import\r\n  }\r\n  ,\r\n  {\r\n    path: '/bruckarte/export',\r\n    name: 'export',\r\n    component : Export\r\n  },\r\n  {\r\n    path: '/bruckarte/login',\r\n    name: 'login',\r\n    component : Login\r\n  },\r\n  {\r\n    path: '/bruckarte/logout',\r\n    name: 'logout',\r\n    component : Logout\r\n  },\r\n  {\r\n    path: '/bruckarte/lineup',\r\n    name: 'lineup',\r\n    component : Lineup\r\n  },\r\n  {\r\n    path: '/bruckarte/sponsors',\r\n    name: 'sponsors',\r\n    component : Sponsors\r\n  },\r\n  {\r\n    path: '/sponsors',\r\n    name: 'bwsponsors',\r\n    component : BWsponsors\r\n  },\r\n  {\r\n    path: '/lineup',\r\n    name: 'bwlineup',\r\n    component : Bwlineup\r\n  },\r\n  {\r\n    path: '/kontakt',\r\n    name: 'kontakt',\r\n    component : Kontakt\r\n  },\r\n  {\r\n    path: '/ulaznice',\r\n    name: 'ulaznice',\r\n    component : Ulaznice\r\n  },\r\n  {\r\n    path: '/pravila-ponasanja',\r\n    name: 'pravila-ponasanja',\r\n    component : Pravila\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'naslovnica',\r\n    component : Naslovnica\r\n  },\r\n  \r\n  \r\n]\r\n\r\n\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  \r\n  //provjera auth i privilegija\r\n  var allowedRoutesForprivilege2= [\"home\",\"login\",\"logout\",\"guest_tag\",\"\",undefined,\"bruckarte\"]\r\n  var allowedRoutesForprivilege3= [\"home\",\"login\",\"logout\",\"guests\",\"\",undefined]\r\n  var allowedRoutesForprivilege4= [\"home\",\"login\",\"logout\",\"guest_tag\",\"guests\",\"\",undefined]\r\n\r\n  if((Date.now()/1000)>store.state.tokenExp && to.name!='logout'){\r\n    console.log(\"aj ća\")\r\n    next({path: '/bruckarte/logout'});\r\n  }else{\r\n  if((String(to.path).split(\"/\"))[1]==\"bruckarte\"){\r\n    if(store.state.id=='' && to.name!='login'){\r\n      next({path: '/bruckarte/login'});\r\n    }else if((store.state.privilege==0 && to.name!='login')){\r\n      window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\r\n      next({path: '/bruckarte/home'});\r\n    }else if((store.state.privilege==2 && !allowedRoutesForprivilege2.includes(to.name))){\r\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\r\n        next({path: '/bruckarte/home'});\r\n    }else if((store.state.privilege==3 && !allowedRoutesForprivilege3.includes(to.name))){\r\n        window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\r\n        next({path: '/bruckarte/home'});\r\n    }else if((store.state.privilege==4 && !allowedRoutesForprivilege4.includes(to.name))){\r\n      window.alert(\"Nažalost, nemate privilegije za pristup ovoj stranici. Pričekajte ili se javite savjetniku(?)\");\r\n      next({path: '/bruckarte/home'});\r\n    }else{\r\n      next();\r\n    }\r\n  }else{\r\n    next();\r\n  }}\r\n  \r\n})\r\n\r\nexport default router\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}