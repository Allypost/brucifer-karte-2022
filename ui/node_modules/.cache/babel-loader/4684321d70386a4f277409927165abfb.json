{"ast":null,"code":"import { XlsxRead, XlsxJson } from \"../../node_modules/vue3-xlsx/dist/vue3-xlsx.cjs.prod.js\";\nimport readXlsxFile from 'read-excel-file';\nexport default {\n  components: {\n    XlsxRead,\n    XlsxJson\n  },\n\n  data() {\n    return {\n      file: null,\n      collection: null,\n      guests: []\n    };\n  },\n\n  mounted() {\n    axios.get('http://127.0.0.1:8000/guests/').then(response => {\n      this.guests = response.data;\n      this.len = this.guests.length;\n    });\n  },\n\n  methods: {\n    onChange(event) {\n      this.file = event.target.files ? event.target.files[0] : null;\n      readXlsxFile(this.file).then(rows => {\n        console.log(\"rows:\", rows);\n\n        if (rows[0][0] == \"jmbag\") {\n          for (let index = 1; index < rows.length; index++) {\n            const element = rows[index][0];\n            axios.post('http://127.0.0.1:8000/guests/', {\n              id: this.nextId,\n              jmbag: element,\n              tag: \"Brucoši\",\n              bought: '0',\n              entered: '0'\n            }, {\n              auth: {\n                username: 'paxx',\n                password: 'KSETpenisica43'\n              }\n            });\n          }\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwBA,SAASA,QAAT,EAAmBC,QAAnB,QAAmC,yDAAnC;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA,eAAe;EACbC,UAAU,EAAE;IACVH,QADU;IAEVC;EAFU,CADC;;EAKbG,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE,IADD;MAELC,UAAU,EAAE,IAFP;MAGLC,MAAM,EAAE;IAHH,CAAP;EAKD,CAXY;;EAYbC,OAAO,GAAE;IACPC,KAAK,CAACC,GAAN,CAAU,+BAAV,EACGC,IADH,CACQC,QAAO,IAAK;MAChB,KAAKL,MAAL,GAAcK,QAAQ,CAACR,IAAvB;MACA,KAAKS,GAAL,GAAW,KAAKN,MAAL,CAAYO,MAAvB;IACD,CAJH;EAKD,CAlBY;;EAmBbC,OAAO,EAAE;IACPC,QAAQ,CAACC,KAAD,EAAQ;MACd,KAAKZ,IAAL,GAAYY,KAAK,CAACC,MAAN,CAAaC,KAAb,GAAqBF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAArB,GAA6C,IAAzD;MACAjB,YAAY,CAAC,KAAKG,IAAN,CAAZ,CAAwBM,IAAxB,CAA8BS,IAAD,IAAU;QACvCC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;;QACA,IAAGA,IAAI,CAAC,CAAD,CAAJ,CAAQ,CAAR,KAAY,OAAf,EAAuB;UACrB,KAAK,IAAIG,KAAI,GAAI,CAAjB,EAAoBA,KAAI,GAAIH,IAAI,CAACN,MAAjC,EAAyCS,KAAK,EAA9C,EAAkD;YAChD,MAAMC,OAAM,GAAIJ,IAAI,CAACG,KAAD,CAAJ,CAAY,CAAZ,CAAhB;YACAd,KAAK,CAACgB,IAAN,CAAW,+BAAX,EACA;cAAEC,EAAE,EAAE,KAAKC,MAAX;cAAmBC,KAAK,EAAEJ,OAA1B;cAAmCK,GAAG,EAAE,SAAxC;cAAmDC,MAAM,EAAE,GAA3D;cAAgEC,OAAO,EAAE;YAAzE,CADA,EAEA;cAAEC,IAAI,EAAE;gBAAEC,QAAQ,EAAE,MAAZ;gBAAoBC,QAAQ,EAAE;cAA9B;YAAR,CAFA;UAKF;QACF;MAED,CAbC;IAgBD;;EAnBM;AAnBI,CAAf","names":["XlsxRead","XlsxJson","readXlsxFile","components","data","file","collection","guests","mounted","axios","get","then","response","len","length","methods","onChange","event","target","files","rows","console","log","index","element","post","id","nextId","jmbag","tag","bought","entered","auth","username","password"],"sourceRoot":"","sources":["C:\\brucifer-karte\\brucifer-karte\\bfk2\\brucifer-karte\\ui\\src\\views\\ImportView.vue"],"sourcesContent":["<template>\r\n<div class=\"import\">\r\n    <br>\r\n<div class=\"row justify-content-center\">\r\n        <div class=\"col-md-8\">\r\n          <div class=\"card\">\r\n          <div class=\"card-header\">Import</div>\r\n          <div class=\"card-body\">\r\n    <section>\r\n      <input type=\"file\" @change=\"onChange\" />\r\n      <xlsx-read :file=\"file\">\r\n        <xlsx-json :sheet=\"selectedSheet\">\r\n          <template #default=\"{collection}\">\r\n            <div>\r\n              {{ collection }}\r\n            </div>\r\n          </template>\r\n        </xlsx-json>\r\n      </xlsx-read>\r\n    </section>\r\n          </div></div></div></div></div>\r\n</template>\r\n<script>\r\n\r\nimport { XlsxRead, XlsxJson } from \"../../node_modules/vue3-xlsx/dist/vue3-xlsx.cjs.prod.js\";\r\nimport readXlsxFile from 'read-excel-file';\r\n\r\nexport default {\r\n  components: {\r\n    XlsxRead,\r\n    XlsxJson\r\n  },\r\n  data() {\r\n    return {\r\n      file: null,\r\n      collection: null,\r\n      guests: [],\r\n    };\r\n  },\r\n  mounted(){\r\n    axios.get('http://127.0.0.1:8000/guests/',)\r\n      .then(response => {\r\n        this.guests = response.data;\r\n        this.len = this.guests.length;\r\n      })\r\n  },\r\n  methods: {\r\n    onChange(event) {\r\n      this.file = event.target.files ? event.target.files[0] : null;      \r\n      readXlsxFile(this.file).then((rows) => {\r\n      console.log(\"rows:\", rows)\r\n      if(rows[0][0]==\"jmbag\"){\r\n        for (let index = 1; index < rows.length; index++) {\r\n          const element = rows[index][0];\r\n          axios.post('http://127.0.0.1:8000/guests/',\r\n          { id: this.nextId, jmbag: element, tag: \"Brucoši\", bought: '0', entered: '0' },\r\n          { auth: { username: 'paxx', password: 'KSETpenisica43' } }\r\n      )\r\n          \r\n        }\r\n      }\r\n      \r\n    })\r\n   \r\n    \r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}